(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{204:function(t,s,e){"use strict";var a=function(){var t=this.$createElement;this._self._c;return this._m(0)};a._withStripped=!0;var l=e(5),i=Object(l.a)({},a,[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"spinner"},[s("div",{staticClass:"rect1"}),this._v(" "),s("div",{staticClass:"rect2"}),this._v(" "),s("div",{staticClass:"rect3"}),this._v(" "),s("div",{staticClass:"rect4"}),this._v(" "),s("div",{staticClass:"rect5"})])])])}],!1,null,null,null);i.options.__file="src/component/loading.vue";s.a=i.exports},344:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t.loaded?t._e():e("loading"),t._v(" "),t.loaded?e("div",{staticClass:"row"},[e("div",{staticClass:"mb-4 col-12"},[e("div",[e("span",{staticClass:"title"},[t._v(t._s(t.$t("blocks.title")))]),e("span",{staticClass:"ml-2"},[t._v(t._s(t.date)+" UTC")])])]),t._v(" "),e("div",{staticClass:"mb-4 col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6 col-lg-5 text-left d-none d-lg-block"},[t.prevDate?e("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/blocks/"+t.prevDate,tag:"button",type:"button"}},[t._v("\n          < "+t._s(t.prevDate)+"\n        ")]):t._e()],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-2 text-center"},[e("datepicker",{attrs:{"bootstrap-styling":!0,language:t.locale,format:"yyyy-MM-dd","calendar-class":"datepicker_center"},on:{input:t.dateChanged},model:{value:t.selectedDate,callback:function(s){t.selectedDate=s},expression:"selectedDate"}})],1),t._v(" "),e("div",{staticClass:"col-6 col-lg-5 text-right d-none d-lg-block"},[t.nextDate?e("router-link",{staticClass:"btn btn-outline-primary",attrs:{to:"/blocks/"+t.nextDate,tag:"button",type:"button"}},[t._v("\n          "+t._s(t.nextDate)+" >\n        ")]):t._e()],1)])]),t._v(" "),e("div",{staticClass:"mb-2 col-12 table-responsive"},[e("table",{staticClass:"table block-list-table"},[e("thead",[e("tr",[e("th",[t._v(t._s(t.$t("word.blockHeight")))]),e("th",[t._v(t._s(t.$t("block.minedTime")))]),e("th",[t._v(t._s(t.$t("word.transactionCount")))]),e("th",{staticClass:"d-none d-lg-table-cell"},[t._v(t._s(t.$t("block.minedBy")))]),e("th",[t._v(t._s(t.$t("word.size")))])])]),t._v(" "),e("tbody",[t._l(t.blocks,function(s,a){return e("tr",[e("td",[e("router-link",{attrs:{to:"/block/"+s.hash}},[t._v(t._s(s.height))])],1),t._v(" "),e("td",[t._v(t._s(t._f("formatTimestamp")(s.time)))]),t._v(" "),e("td",[t._v(t._s(s.txlength))]),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[s.poolInfo?e("a",{attrs:{href:s.poolInfo.url}},[t._v(t._s(s.poolInfo.poolName))]):t._e()]),t._v(" "),e("td",[t._v(t._s(s.size)+" byte")])])}),t._v(" "),!t.blocks.length&&t.loaded?e("tr",[e("td",{attrs:{colspan:"5"}},[t._v(t._s(t.$t("blocks.notFound")))])]):t._e()],2)])]),t._v(" "),e("div",{staticClass:"mb-2 col-12",class:{invisible:!t.loading}},[t._m(0)]),t._v(" "),e("div",{staticClass:"mb-2 col-12 text-center"},[t.loadedAll?t._e():e("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.loading},on:{click:t.loadMore}},[t._v(t._s(t.$t("blocks.loadMore")))])])]):t._e()],1)};a._withStripped=!0;var l=e(204),i=e(8),o=e(0),c=e.n(o),n=e(274),r=e(275),d={data:()=>({blocks:[],loading:!1,loaded:!1,loadedAll:!1,date:null,ts:null,selectedDate:new Date,prevDate:null,nextDate:null,locale:r.en}),created(){this.$root.$on("changedLocale",this.changeLocale),this.fetchData()},mounted(){this.changeLocale(this.$i18n.locale)},watch:{$route:"fetchData"},methods:{async fetchData(){this.reset(),this.changeLocale(this.$i18n.locale),this.$root.setTitle("Blocks",this.$route.params.blockid);let t=this.$route.params.date,s=c()();t?c()(t,"YYYY-MM-DD",!0).isValid()?(this.date=t,t=c()(t),this.selectedDate=t.toDate(),this.prevDate=t.subtract(1,"d").format("YYYY-MM-DD"),this.nextDate=t.add(2,"d").format("YYYY-MM-DD"),s.utc().format("YYYY-MM-DD")<this.nextDate&&(this.nextDate=null),await this.loadMore(),this.loaded=!0):this.$router.replace("/404"):this.$router.replace(`/blocks/${s.utc().format("YYYY-MM-DD")}`)},async loadMore(){if(this.loadedAll)return;this.loading=!0;const t=this.date,s=await Object(i.a)(`/blocks?blockDate=${t}${this.ts?"&startTimestamp="+this.ts:""}`).catch(t=>!1);if(s)return t!==this.date?this.loading=!1:(this.blocks=[...this.blocks,...s.blocks].filter((t,s,e)=>e.findIndex(({hash:s})=>s===t.hash)===s),this.loadedAll=!s.pagination.more,this.ts=s.pagination.moreTs,this.loading=!1);this.$router.replace("/404")},changeLocale(t){this.locale=r[t]||r.en},dateChanged(){this.$router.push(`/blocks/${c()(this.selectedDate).format("YYYY-MM-DD")}`)},reset(){Object.assign(this.$data,this.$options.data())}},filters:{formatTimestamp:t=>c()(t,"X").format("LLL")},components:{loading:l.a,datepicker:n.a}},h=e(5),v=Object(h.a)(d,a,[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"progress my-2"},[s("div",{staticClass:"progress-bar bg-success progress-bar-striped progress-bar-animated w-100",attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}},[this._v("Loading...")])])}],!1,null,null,null);v.options.__file="src/pages/blocks.vue";s.default=v.exports}}]);