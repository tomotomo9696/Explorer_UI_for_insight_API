(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{218:function(t,a){},219:function(t,a){},277:function(t,a){},283:function(t,a){},343:function(t,a,r){"use strict";r.r(a);var s=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"mb-4 col-12"},[r("div",[r("span",{staticClass:"title"},[t._v(t._s(t.$t("broadcast.broadcastTx")))])])]),t._v(" "),r("div",{staticClass:"col-12"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"rawtx"}},[t._v(t._s(t.$t("broadcast.rawTransaction")))]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rawtx,expression:"rawtx"}],staticClass:"form-control mb-2",attrs:{id:"rawtx",rows:"10"},domProps:{value:t.rawtx},on:{input:function(a){a.target.composing||(t.rawtx=a.target.value)}}}),t._v(" "),r("div",{staticClass:"text-right"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.broadcast}},[t._v(t._s(t.$t("broadcast.send")))])])]),t._v(" "),r("div",[t.txid?r("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[r("div",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("broadcast.success")))]),t._v(" "),r("div",[t._v(t._s(t.$t("word.transactionID"))+" "+t._s(t.txid))])]):t._e(),t._v(" "),t.error?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[r("div",{staticClass:"font-weight-bold"},[t._v(t._s(t.$t("broadcast.error")))]),t._v(" "),r("div",[t._v(t._s(t.error))])]):t._e()])])])])};s._withStripped=!0;var i=r(276),e=r.n(i),o=r(2),n={data:()=>({rawtx:"",error:"",txid:"",ready:!0}),methods:{async broadcast(){if(!this.ready)return;if(!this.rawtx)return;this.error=this.txid="",this.ready=!1;try{e.a.Transaction.fromHex(this.rawtx)}catch(t){return this.error=this.$t("broadcast.invalidRawTx"),void(this.ready=!0)}const t=JSON.stringify({rawtx:this.rawtx}),a=await fetch(`${o.a.endpoint}/tx/send`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:t}).then(async t=>{if(!t.ok)throw Error(await t.text());return t.json()}).then(t=>({data:t})).catch(t=>({error:t}));a.data&&a.data.txid?(this.txid=a.data.txid,this.error=""):(this.txid="",this.error=a.error instanceof Error?a.error.message:a.error),this.ready=!0}}},d=r(5),c=Object(d.a)(n,s,[],!1,null,null,null);c.options.__file="src/pages/broadcast-tx.vue";a.default=c.exports}}]);